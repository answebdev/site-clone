"use strict";var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},_slicedToArray=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],i=!0,n=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(i=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);i=!0);}catch(e){n=!0,a=e}finally{try{!i&&c.return&&c.return()}finally{if(n)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}!function(e){function t(e){e&&_q(".spanShippingPrice")&&(_q(".spanShippingPrice").innerHTML=e.priceShipping)}e?(!function(){if(_q(".js-product-discount-info")){var e=_q(".js-product-discount-info .w_content");e.innerHTML=e.innerHTML.replace("{price_shipping}",'<span class="spanShippingPrice"></span>')}}(),e.events.on("bindProductDiscountInfo",t)):console.log("modules is not found")}(window.utils),function(e){if(e&&window.siteSetting){window.isNotCallApiUpsell=!0,window.widget=window.widget?window.widget:{};var t,r=1;if(function(){if(_qById("js-widget-products")){var e=_qAll(".js-unitDiscountRate");if(e){var t=!0,r=!1,i=void 0;try{for(var n,a=e[Symbol.iterator]();!(t=(n=a.next()).done);t=!0){var o=n.value;o.innerHTML=o.innerHTML.replace(/{UnitDiscountRate}/gi,'<span class="spanUnitDiscountRate"></span>').replace(/{UnitFullRate}/gi,'<span class="spanUnitFullRate"></span>').replace(/{DiscountedPrice}/gi,'<span class="discountedPrice"></span>').replace(/{SavePrice}/gi,'<span class="savePrice"></span>').replace(/{ShippingFee}/gi,'<span class="jsShippingFee"></span>').replace(/{FullPrice}/gi,'<del class="fullPrice"></del>')}}catch(e){r=!0,i=e}finally{try{!t&&a.return&&a.return()}finally{if(r)throw i}}}}}(),function(){try{var e=_qAll(".productRadioListItem.checked-item");Array.prototype.slice.call(e).forEach(function(e){e.classList.add("highlight-item")});var t=e[0].querySelector("input").value,r=_q("[data-packagedisplay]");if(r){var i=r.dataset.packagedisplay.replace(/ /g,"").split(",").indexOf(t);if(-1===i)return;var n=r.querySelectorAll("li");Array.prototype.slice.call(n).forEach(function(e){var t=e.dataset.package.replace(/ /g,"").split(",")[i];_qById("product_"+t).closest(".productRadioListItem").classList.add("highlight-item")})}}catch(e){console.log(e)}}(),t=new EmanageCRMJS({webkey:siteSetting.webKey,cid:siteSetting.CID,lang:"",isTest:!!e.getQueryParameter("isCardTest")}),console.log("don't cache product list at widget_productlist_v1 ..."),t.Campaign.getProducts(function(e){var t=localStorage.getItem("campproducts");if(t=t?JSON.parse(t):{camps:[]},void 0!==e.prices){e.timestamp=(new Date).toISOString();var r=t.camps.filter(function(e){return e[siteSetting.webKey]}),i={};r.length>0?(i=r[0])[siteSetting.webKey]=e:(i[siteSetting.webKey]=e,t.camps.push(i)),localStorage.setItem("campproducts",JSON.stringify(t))}I(e)}),_q(".js-list-group li")){var i=_qAll(".js-list-group li"),n=_q(".js-list-group h5"),a=_q(".js-list-group ul").dataset.packagedisplay.split(","),o=a,c=!0,s="",d="",l=void 0,u=o.indexOf(_q('input[name="product"]:checked').value);n&&(s=n.innerHTML,d=s);var p=function(){e.localStorage().set("indexTab",-1);var t=!0,r=!1,n=void 0;try{for(var a,o=i.entries()[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var c=a.value,s=_slicedToArray(c,2),d=s[0];if(s[1].classList.contains("active")){e.localStorage().set("indexTab",d);break}}}catch(e){r=!0,n=e}finally{try{!t&&o.return&&o.return()}finally{if(r)throw n}}},f=function(e,t){o=e,v(".productRadioListItem").addClass("hidden");var r=!0,i=!1,n=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done);r=!0){var s=a.value,d=_qById("product_"+s),l=_getClosest(d,".productRadioListItem");if(l){var p=JSON.parse(_qById("js-widget-products").dataset.options);t?(l.classList.contains("special_offer")&&l.classList.remove("hidden"),p.specialOnly||l.classList.remove("hidden")):l.classList.contains("special_offer")||l.classList.remove("hidden")}}}catch(e){i=!0,n=e}finally{try{!r&&c.return&&c.return()}finally{if(i)throw n}}_(),function(){o.length-1<u&&(u=o.length-1);var e=!0,t=!1,r=void 0;try{for(var i,n=o.entries()[Symbol.iterator]();!(e=(i=n.next()).done);e=!0){var a=i.value,c=_slicedToArray(a,2),s=c[0],d=c[1];if(s===u){var l=_q('input[name="product"][value="'+d+'"]');_getClosest(l,".productRadioListItem").querySelector(".js-unitDiscountRate").click();break}}}catch(e){t=!0,r=e}finally{try{!e&&n.return&&n.return()}finally{if(t)throw r}}}()},y=function(t){!function(e){try{for(var t=1,r=i.length;t<=r;t++)_q("body").classList.remove("package-active-"+t);var n=Array.prototype.slice.call(i).indexOf(e)||0;_q("body").classList.add("package-active-"+ ++n)}catch(e){console.log(e)}}(t);var r="1"===e.getQueryParameter("et");u=o.indexOf(_q('input[name="product"]:checked').value),v(".js-list-group li").removeClass("clicked"),t.classList.add("clicked"),_q(".prl-error")&&_q(".prl-error").classList.add("hidden"),t.classList.contains("active")?c&&t.classList.contains("active")&&(v(".js-list-group li").removeClass("active"),t.classList.remove("clicked"),n&&(d=s,n.innerHTML=d),f(a,r)):(v(".js-list-group li").removeClass("active"),t.classList.add("active"),f(t.dataset.package.split(","),r))},m=function(e){if(function(){_q("body").classList.add("package-active-1"),n&&(d=s,n.innerHTML=d),v(".js-list-group li").removeClass("active");var e=!0,t=!1,r=void 0;try{for(var a,o=i[Symbol.iterator]();!(e=(a=o.next()).done);e=!0){var u=a.value;if(_q(".js-list-group ul").dataset.packagedisplay===u.dataset.package){u.classList.add("active"),c=!1;break}}}catch(e){t=!0,r=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw r}}l&&clearTimeout(l),l=setTimeout(function(){p()},3e3)}(),f(a,e),e){var t=_qAll(".productRadioListItem:not(.special_offer) .best-seller-text"),r=!0,o=!1,u=void 0;try{for(var y,m=t[Symbol.iterator]();!(r=(y=m.next()).done);r=!0){var g=y.value;g&&g.parentNode.removeChild(g)}}catch(e){o=!0,u=e}finally{try{!r&&m.return&&m.return()}finally{if(o)throw u}}v(".default:not(.special_offer)").removeClass("default")}};m("1"===e.getQueryParameter("et")),function(){var t=window.maroPostSettingId?window.maroPostSettingId.id:"",r=function(e){n&&(e.addEventListener("mouseenter",function(){e.dataset.replacetext&&(n.innerHTML=e.dataset.replacetext)},!1),e.addEventListener("mouseleave",function(){n.innerHTML=d},!1)),e.addEventListener("click",function(){n&&e.dataset.replacetext&&(d=e.dataset.replacetext,n.innerHTML=d),e.dataset.webkey&&(siteSetting.webKey=e.dataset.webkey),window.maroPostSettingId&&(e.dataset.maropostid?window.maroPostSettingId.id=e.dataset.maropostid:window.maroPostSettingId.id=t),y(e),p(),JSON.parse(_qById("js-widget-products").dataset.options).hasOwnProperty("isUpdateHeadingPrice")&&function(){var e=a.indexOf(_qById("hdfSelectedProduct").value),t=_qById("product_"+o[e]),r=JSON.parse(t.dataset.product),i=r.productPrices.DiscountedPrice.FormattedValue,n=r.productPrices.FullRetailPrice.FormattedValue,c=_qAll(".js-sale-off-heading .textDiscountPrice");if(c){var s=!0,d=!1,l=void 0;try{for(var u,p=c[Symbol.iterator]();!(s=(u=p.next()).done);s=!0)u.value.innerText=i}catch(e){d=!0,l=e}finally{try{!s&&p.return&&p.return()}finally{if(d)throw l}}}var f=_qAll(".js-sale-off-heading .textFullPrice");if(f){var y=!0,m=!1,v=void 0;try{for(var g,w=f[Symbol.iterator]();!(y=(g=w.next()).done);y=!0)g.value.innerText=n}catch(e){m=!0,v=e}finally{try{!y&&w.return&&w.return()}finally{if(m)throw v}}}}()},!1)},c=!0,s=!1,l=void 0;try{for(var f,v=i[Symbol.iterator]();!(c=(f=v.next()).done);c=!0)r(f.value)}catch(e){s=!0,l=e}finally{try{!c&&v.return&&v.return()}finally{if(s)throw l}}_qById("btn-yes-exit-popup")&&_qById("btn-yes-exit-popup").addEventListener("click",function(){u=0,m(!0)},!1),e.events.emit("triggerEventProductListPackage")}();window.widget.productlist={isValidProductList:function(){var e=!1,t=_qAll(".js-list-group li"),r=_q(".prl-error"),i=!0,n=!1,a=void 0;try{for(var o,c=t[Symbol.iterator]();!(i=(o=c.next()).done);i=!0)if(o.value.classList.contains("active")){e=!0;break}}catch(e){n=!0,a=e}finally{try{!i&&c.return&&c.return()}finally{if(n)throw a}}return r?e?r.classList.add("hidden"):r.classList.remove("hidden"):e=!0,e}}}window.implementPriceHTML=w}else console.log("utils or window.siteSetting not found");function v(e){var t=_qAll(e);return{addClass:function(e){var r=!0,i=!1,n=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){a.value.classList.add(e)}}catch(e){i=!0,n=e}finally{try{!r&&o.return&&o.return()}finally{if(i)throw n}}},removeClass:function(e){var r=!0,i=!1,n=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){a.value.classList.remove(e)}}catch(e){i=!0,n=e}finally{try{!r&&o.return&&o.return()}finally{if(i)throw n}}}}}function g(t){var r=Number(e.getQueryParameter("activeFrom")||window.activeFrom),i=t.quantity;if(window.isDoubleQuantity&&(i/=2),"number"==typeof r&&r>t.productPrices.DiscountedPrice.Value)return t;var n=void 0,a=t.shippings[0].formattedPrice,o=Number(e.getQueryParameter("couponValue").replace("percent","")),c=e.formatPrice(o,window.fCurrency,a);return e.getQueryParameter("couponValue").indexOf("percent")>-1?(c=e.getQueryParameter("couponValue").replace("percent","%"),n=(t.productPrices.DiscountedPrice.Value*(100-o)/100).toFixed(2)):n=(t.productPrices.DiscountedPrice.Value-o).toFixed(2),t.productPrices.DiscountedPrice.Value=Number(n),t.productPrices.DiscountedPrice.FormattedValue=e.formatPrice(n,window.fCurrency,a),t.productPrices.UnitDiscountRate.Value=Number((n/i).toFixed(2)),t.productPrices.UnitDiscountRate.FormattedValue=e.formatPrice(t.productPrices.UnitDiscountRate.Value.toFixed(2),window.fCurrency,a),function(e,t){var r=_q(".coupon-apply"),i=_getClosest(e,".productRadioListItem");if(r&&(r.innerHTML=r.innerHTML.replace(/{couponPrice}/g,t),_q(".coupon-apply").style.display="block"),i.querySelector(".product-name")&&window.additionText){window.additionText=window.additionText.replace(/{couponPrice}/g,t);var n=i.querySelector(".product-name p");n.innerHTML=n.innerHTML+" "+window.additionText}}(_qById("product_"+t.productId),c),t}function w(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Array.prototype.slice.call(_qAll(".discountedPrice_"+r+", .depositFirstChargePrice_"+r)).forEach(function(r){r.classList.contains("fired-price")&&!i||r.classList.contains("is-refired")||(r.classList.add("fired-price"),i&&r.classList.add("is-refired"),window.isPreOrder&&t.productPrices.hasOwnProperty("PreSaleAmount1")?window.removeCurrencySymbol?r.textContent=t.productPrices.PreSaleAmount1.Value:r.textContent=e.formatPrice(t.productPrices.PreSaleAmount1.Value,window.fCurrency,t.productPrices.PreSaleAmount1.FormattedValue):window.removeCurrencySymbol?r.textContent=t.productPrices.DiscountedPrice.Value:r.textContent=e.formatPrice(t.productPrices.DiscountedPrice.Value,window.fCurrency,t.productPrices.DiscountedPrice.FormattedValue))}),Array.prototype.slice.call(_qAll(".savePrice_"+r+", .depositSavePrice_"+r)).forEach(function(e){e.classList.contains("fired-price")&&!i||e.classList.contains("is-refired")||(e.classList.add("fired-price"),i&&e.classList.add("is-refired"),window.removeCurrencySymbol?e.textContent=t.productPrices.SavePrice.Value:e.textContent=t.productPrices.SavePrice.FormattedValue)}),Array.prototype.slice.call(_qAll(".shortSavePrice_"+r+", .depositShortSavePrice_"+r)).forEach(function(r){r.classList.contains("fired-price")&&!i||r.classList.contains("is-refired")||(r.classList.add("fired-price"),i&&r.classList.add("is-refired"),window.removeCurrencySymbol?r.textContent=Math.round(t.productPrices.SavePrice.Value):r.textContent=e.formatPrice(Math.round(t.productPrices.SavePrice.Value),window.fCurrency,t.productPrices.DiscountedPrice.FormattedValue))}),Array.prototype.slice.call(_qAll(".eachPrice_"+r+", .depositEachPrice_"+r)).forEach(function(n){n.classList.contains("fired-price")&&!i||n.classList.contains("is-refired")||(n.classList.add("fired-price"),i&&n.classList.add("is-refired"),!window.isPreOrder||t.productPrices.hasOwnProperty("PreSaleAmount1")?window.removeCurrencySymbol?n.textContent=(t.productPrices.DiscountedPrice.Value/r).toFixed(2):n.textContent=e.formatPrice((t.productPrices.DiscountedPrice.Value/r).toFixed(2),window.fCurrency,t.productPrices.DiscountedPrice.FormattedValue):window.removeCurrencySymbol?n.textContent=((t.productPrices.FullRetailPrice.Value+t.productPrices.DiscountedPrice.Value)/r).toFixed(2):n.textContent=e.formatPrice(((t.productPrices.FullRetailPrice.Value+t.productPrices.DiscountedPrice.Value)/r).toFixed(2),window.fCurrency,t.productPrices.DiscountedPrice.FormattedValue))}),Array.prototype.slice.call(_qAll(".shortEachPrice_"+r+", .depositShortEachPrice_"+r)).forEach(function(n){n.classList.contains("fired-price")&&!i||n.classList.contains("is-refired")||(n.classList.add("fired-price"),i&&n.classList.add("is-refired"),!window.isPreOrder||t.productPrices.hasOwnProperty("PreSaleAmount1")?window.removeCurrencySymbol?n.textContent=Math.round(t.productPrices.DiscountedPrice.Value/r):n.textContent=e.formatPrice(Math.round(t.productPrices.DiscountedPrice.Value/r),window.fCurrency,t.productPrices.DiscountedPrice.FormattedValue):window.removeCurrencySymbol?n.textContent=Math.round((t.productPrices.FullRetailPrice.Value+t.productPrices.DiscountedPrice.Value)/r):n.textContent=e.formatPrice(Math.round((t.productPrices.FullRetailPrice.Value+t.productPrices.DiscountedPrice.Value)/r),window.fCurrency,t.productPrices.DiscountedPrice.FormattedValue))})}function _(){try{var t=[];if(Array.prototype.slice.call(_qAll('input[name="product"]')).forEach(function(e){t=[].concat(_toConsumableArray(t),[Number(e.value)])}),_q(".js-list-group li")&&(t=_q(".js-list-group li.active")?_q(".js-list-group li.active").dataset.package.split(",").map(function(e){return parseInt(e)}):_q(".js-list-group ul").dataset.packagedisplay.split(",").map(function(e){return parseInt(e)})),!window.PRICES)return;for(var r=window.PRICES.filter(function(e){return t.includes(e.productId)}),i=[].concat(_toConsumableArray(r)).sort(function(e,t){return e.quantity-t.quantity}),n=!0,a=0,o=i.length;a<o;a++){if(o<2){n=!1;break}if(i[a].quantity%2!=0){n=!1;break}}n?(window.isDoubleQuantity=!0,-1===window.location.pathname.indexOf("special-offer-")&&setTimeout(function(){e.localStorage().set("doubleQuantity","true")},600)):(window.isDoubleQuantity=!1,-1===window.location.pathname.indexOf("special-offer-")&&e.localStorage().remove("doubleQuantity"))}catch(e){console.log(e)}}function h(){var e=_q('input[name="product"]:checked').dataset.product;return e?JSON.parse(e):null}function P(){var t=h();e.events.emit("triggerWarranty",t),e.events.emit("triggerInstallmentPayment",{discountPrice:t.productPrices.DiscountedPrice.FormattedValue,discountPriceValue:t.productPrices.DiscountedPrice.Value,fullPrice:t.productPrices.FullRetailPrice.FormattedValue,fullPriceValue:t.productPrices.FullRetailPrice.Value}),void 0!==_qById("js-widget-products").dataset.activeclass&&(v(".productRadioListItem.checked-item").removeClass("checked-item"),_getClosest(this,".productRadioListItem").classList.add("checked-item"))}function I(t){console.log(t);var i=e.localStorage().get("countryCodeIndex");if(!(t instanceof Error)&&t.prices.length>0){window.campaignInfo=t,window.PRICES=t.prices,_(),Array.prototype.slice.call(t.prices).forEach(function(t){try{var i=_qById("product_"+t.productId);if(i){var n=window.isDoubleQuantity?t.quantity/2:t.quantity,a=t.productPrices.DiscountedPrice.FormattedValue.replace(/[,|.|\u00a0]/g,""),o=t.productPrices.DiscountedPrice.Value.toString().replace(/\./,"");if(window.fCurrency=a.replace(o,"######").replace(/\d/g,""),e.getQueryParameter("couponCode")&&e.getQueryParameter("couponValue")&&(t=g(t)),t=function(t){try{t.quantity,window.isDoubleQuantity,t.productPrices.SavePrice={},t.productPrices.SavePrice.Value=Number((t.productPrices.FullRetailPrice.Value-t.productPrices.DiscountedPrice.Value).toFixed(2)),t.productPrices.SavePrice.FormattedValue=e.formatPrice(t.productPrices.SavePrice.Value.toFixed(2),window.fCurrency,t.shippings[0].formattedPrice)}catch(e){console.log(e)}return t}(t),window.isPreOrder&&!t.productPrices.hasOwnProperty("PreSaleAmount1")&&(t=function(t){try{var i=t.quantity;window.isDoubleQuantity&&(i/=2),1===i&&(r=(t.productPrices.FullRetailPrice.Value+t.productPrices.DiscountedPrice.Value)/.65);var n=r*i,a=t.productPrices.DiscountedPrice.Value+t.productPrices.FullRetailPrice.Value;t.productPrices.SavePrice={},t.productPrices.SavePrice.Value=Math.abs(Number((n-a).toFixed(2))),t.productPrices.SavePrice.FormattedValue=e.formatPrice(t.productPrices.SavePrice.Value,window.fCurrency,t.shippings[0].formattedPrice),t.productPrices.FullRetailPriceDeposit={},t.productPrices.FullRetailPriceDeposit.Value=Number((a+t.productPrices.SavePrice.Value).toFixed(2)),t.productPrices.FullRetailPriceDeposit.FormattedValue=e.formatPrice(t.productPrices.FullRetailPriceDeposit.Value,window.fCurrency,t.shippings[0].formattedPrice)}catch(e){console.log(e)}return t}(t)),w(t,n),t.productPrices.UnitDiscountRate=t.productPrices.UnitDiscountRate||{},!window.isPreOrder||t.productPrices.hasOwnProperty("PreSaleAmount1")?(!t.productPrices.UnitDiscountRate||!t.productPrices.UnitDiscountRate.Value||t.productPrices.UnitDiscountRate&&0===t.productPrices.UnitDiscountRate.Value)&&(t.productPrices.UnitDiscountRate.Value=Number((t.productPrices.DiscountedPrice.Value/n).toFixed(2))):t.productPrices.UnitDiscountRate.Value=Number(((t.productPrices.DiscountedPrice.Value+t.productPrices.FullRetailPrice.Value)/n).toFixed(2)),t.productPrices.UnitDiscountRate.FormattedValue=e.formatPrice(t.productPrices.UnitDiscountRate.Value.toFixed(2),window.fCurrency,t.productPrices.DiscountedPrice.FormattedValue),i.setAttribute("data-product",JSON.stringify(t)),i.onchange=P,v(".productRadioListItem .js-img-loading").addClass("hidden"),window.removeCurrencySymbol)try{t.productPrices.DiscountedPrice.FormattedValue=t.productPrices.DiscountedPrice.Value.toFixed(0)}catch(e){console.log("product.productPrices.DiscountedPrice"+e)}var c=_getClosest(_q('label[for="product_'+t.productId+'"]'),".productRadioListItem");Array.prototype.slice.call(c.querySelectorAll(".jsShippingFee")).forEach(function(e){var r=window.js_translate.FREESHIP?window.js_translate.FREESHIP:"FREE SHIPPING";window.js_translate.shippingFee||(window.js_translate.shippingFee="{price} Shipping"),0!==t.shippings[0].price&&(r=window.js_translate.shippingFee.replace("{price}",t.shippings[0].formattedPrice)),e.insertAdjacentText("beforeend",r)}),Array.prototype.slice.call(c.querySelectorAll(".spanFirstCharge")).forEach(function(e){window.isPreOrder&&t.productPrices.hasOwnProperty("PreSaleAmount1")?e.insertAdjacentText("beforeend",t.productPrices.PreSaleAmount1.FormattedValue):e.insertAdjacentText("beforeend",t.productPrices.DiscountedPrice.FormattedValue)}),Array.prototype.slice.call(c.querySelectorAll(".spanRemainPrice")).forEach(function(r){var i=t.productPrices.DiscountedPrice.Value;window.isPreOrder&&t.productPrices.hasOwnProperty("PreSaleAmount1")&&(i-=t.productPrices.PreSaleAmount1.Value),r.insertAdjacentText("beforeend",e.formatPrice(i.toFixed(2),window.fCurrency,t.productPrices.DiscountedPrice.FormattedValue))}),Array.prototype.slice.call(c.querySelectorAll(".spanUnitDiscountRate")).forEach(function(e){e.insertAdjacentText("beforeend",t.productPrices.UnitDiscountRate.FormattedValue)}),Array.prototype.slice.call(c.querySelectorAll(".discountedPrice")).forEach(function(r){var i=t.productPrices.DiscountedPrice.Value;window.isPreOrder&&t.productPrices.hasOwnProperty("PreSaleAmount1"),r.insertAdjacentText("beforeend",e.formatPrice(i.toFixed(2),window.fCurrency,t.productPrices.DiscountedPrice.FormattedValue))}),Array.prototype.slice.call(c.querySelectorAll(".spanTotalDiscountPriceElm")).forEach(function(r){var i=t.productPrices.DiscountedPrice.Value;window.isPreOrder&&!t.productPrices.hasOwnProperty("PreSaleAmount1")&&(i+=t.productPrices.FullRetailPrice.Value),r.insertAdjacentText("beforeend",e.formatPrice(i.toFixed(2),window.fCurrency,t.productPrices.DiscountedPrice.FormattedValue))}),Array.prototype.slice.call(c.querySelectorAll(".savePrice")).forEach(function(r){var i=e.formatPrice(t.productPrices.SavePrice.Value.toFixed(2),window.fCurrency,t.productPrices.SavePrice.FormattedValue);window.removeCurrencySymbol&&(i=t.productPrices.SavePrice.Value),r.innerHTML=i}),Array.prototype.slice.call(c.querySelectorAll(".savePriceDeposit")).forEach(function(r){var i=e.formatPrice(Math.round(t.productPrices.SavePrice.Value),window.fCurrency,t.productPrices.SavePrice.FormattedValue);window.removeCurrencySymbol&&(i=Math.round(t.productPrices.SavePrice.Value)),r.innerHTML=i}),Array.prototype.slice.call(c.querySelectorAll(".fullPrice, .fullRetailPriceDeposit")).forEach(function(r){if(!window.isPreOrder||t.productPrices.hasOwnProperty("PreSaleAmount1")){var i=e.formatPrice(t.productPrices.FullRetailPrice.Value.toFixed(2),window.fCurrency,t.productPrices.FullRetailPrice.FormattedValue);r.insertAdjacentText("beforeend",i)}else if(t.productPrices.hasOwnProperty("FullRetailPriceDeposit")){var n=t.productPrices.FullRetailPriceDeposit.FormattedValue;window.removeCurrencySymbol&&(n=t.productPrices.FullRetailPriceDeposit.Value),r.insertAdjacentText("beforeend",n)}}),Array.prototype.slice.call(c.querySelectorAll(".spanUnitFullRate")).forEach(function(r){var i="";i=!window.isPreOrder||t.productPrices.hasOwnProperty("PreSaleAmount1")?void 0!==t.productPrices.UnitFullRetailPrice?t.productPrices.UnitFullRetailPrice.FormattedValue:e.formatPrice((t.productPrices.FullRetailPrice.Value/n).toFixed(2),window.fCurrency,t.productPrices.FullRetailPrice.FormattedValue):e.formatPrice((t.productPrices.FullRetailPriceDeposit.Value/n).toFixed(2),window.fCurrency,t.productPrices.FullRetailPriceDeposit.FormattedValue),r.insertAdjacentText("beforeend",i)})}}catch(e){console.log(e)}});try{window.isPreOrder&&setTimeout(function(){e.localStorage().set("preOrder",!0)},1e3);var n=function(){var e=null;try{var t=JSON.parse(_qById("product_"+_qById("hdfSelectedProduct").value).dataset.product),r=0,i=window.js_translate&&window.js_translate.free||"free";t.shippings.length>0&&0!==t.shippings[0]&&(r=t.shippings[0].price,i=t.shippings[0].formattedPrice),e={shippingValue:r,priceShipping:i,discountPrice:t.productPrices.DiscountedPrice.FormattedValue,discountPriceValue:t.productPrices.DiscountedPrice.Value,fullPrice:t.productPrices.FullRetailPrice.FormattedValue,fullPriceValue:t.productPrices.FullRetailPrice.Value,currencyCode:null!=t.productPrices.FullRetailPrice.GlobalCurrencyCode?t.productPrices.FullRetailPrice.GlobalCurrencyCode:"",fCurrency:window.fCurrency}}catch(e){console.log("getDefaultSelectedProduct : ",e)}return e}();window.removeCurrencySymbol||Array.prototype.slice.call(_qAll(".jsCurrencyNumber")).forEach(function(e){e.innerText=window.fCurrency.replace("######",e.textContent)}),n&&""===n.currencyCode&&(n.currencyCode=t.location.currencyCode),e.events.emit("bindProductDiscountInfo",n),siteSetting.countryCode=i||t.location.countryCode,e.localStorage().set("countryCode",siteSetting.countryCode),e.localStorage().set("location",JSON.stringify(t.location)),setTimeout(function(){e.localStorage().set("jsCurrency",window.fCurrency),e.localStorage().set("countryCode",siteSetting.countryCode),e.localStorage().set("currencyCode",n.currencyCode),e.localStorage().set("ip",t.location.ip),e.localStorage().set("mainCampaignName",t.campaignName),e.localStorage().set("mainWebKey",window.siteSetting.webKey),window.pageType&&"normal"!==window.pageType&&(e.localStorage().set("pageType",window.pageType),e.localStorage().set("isPreOrder",!0)),_q(".js-list-group .active")&&_q(".js-list-group .active").dataset.webkey&&(siteSetting.webKey=_q(".js-list-group .active").dataset.webkey),_q(".js-list-group .active")&&_q(".js-list-group .active").dataset.maropostid&&window.maroPostSettingId&&(window.maroPostSettingId.id=_q(".js-list-group .active").dataset.maropostid)},1e3),e.events.emit("triggerAddressForm",siteSetting.countryCode),e.events.emit("triggerProductBannerSidebar",n),e.events.emit("triggerWarranty",h()),e.events.emit("bindOrderPage",n),e.events.emit("triggerInstallmentPayment",n),e.events.emit("triggerQuantity",t)}catch(e){console.log(e)}}!function(){if(!e.localStorage().get("antiFraud")){var t=document.createElement("script");t.src="https://d16hdrba6dusey.cloudfront.net/sitecommon/js/components/kount-v2.js",t.defer=!0,document.head.appendChild(t)}}()}}(window.utils),function(e){function t(e){if(_qById("js-widget-productwarranty")&&e)try{var t=_qById("txtProductWarranty").value,r=[.1,.2,.2,.2,.2,.3,.5,.15,.25,.35,.4,.45,.55,.6][parseInt(t)-1],i=e.productPrices.DiscountedPrice.FormattedValue.replace(/[,|.]/g,""),n=e.productPrices.DiscountedPrice.Value.toString().replace(/\./,""),a=i.replace(n,"######").replace(/\d/g,""),o=(Math.round(100*e.productPrices.DiscountedPrice.Value*r)/100).toFixed(2);e.productPrices.DiscountedPrice.FormattedValue.indexOf(",")>=0&&(o=o.toString().replace(".",",")),_q("span.spanWarrantyPrice")&&(_q("span.spanWarrantyPrice").innerHTML=a.replace("######",o))}catch(e){console.log("init Warranty error: ",e)}}e?(!function(){if(_qById("js-widget-productwarranty")){var e=_q(".w_product_warranty");e.innerHTML=e.innerHTML.replace("{warrantyPrice}",'<span class="spanWarrantyPrice"></span>')}}(),e.events.on("triggerWarranty",t)):console.log("utils module is not found")}(window.utils),function(e){function t(e){e&&_q(".js-product-banner-sidebar .textShippingPrice")&&(_q(".js-product-banner-sidebar .textShippingPrice").innerHTML=e.priceShipping)}e?(!function(){if(_q(".js-product-banner-sidebar")){var e=_q(".js-product-banner-sidebar .js-text");e&&(e.innerHTML=e.innerHTML.replace("{price_shipping}",'<span class="textShippingPrice"></span>'))}}(),e.events.on("triggerProductBannerSidebar",t)):console.log("utils module is not found")}(window.utils),function(e){window.utils?document.addEventListener("DOMContentLoaded",function(){var e;(e=_qById("creditcard_method"))&&(e.onclick=function(e){_q(".widget-customer-form")&&(_q(".widget-customer-form").classList.remove("hidden"),_q(".widget-customer-form").scrollIntoView()),_q(".widget-installpayment-form")&&_q(".widget-installpayment-form").classList.remove("hidden"),_q(".widget-creditcard-form")&&_q(".widget-creditcard-form").classList.remove("hidden"),_q(".widget-shipping-form")&&_q(".widget-shipping-form").classList.remove("hidden"),_q(".widget-billing-form")&&_q(".widget-billing-form").classList.remove("hidden"),_qById("js-basic-paypal-cta-button")&&_qById("js-basic-paypal-cta-button").classList.add("hidden"),_qById("js-basic-cta-button")&&(_qById("js-basic-cta-button").classList.remove("hidden"),_qById("js-basic-cta-button").style.display="block")})}):console.log("utils module is not found")}(),function(e){if(e)if(siteSetting){var t=function(e){var t=document.querySelector("#txtProductWarranty").value,r=[.1,.2,.2,.2,.2,.3,.5,.15,.25,.35,.4,.45,.55,.6][parseInt(t)-1];return[Math.round(100*e.productPrices.DiscountedPrice.Value*r)/100,r]},r=null,i=0,n=new EmanageCRMJS({webkey:siteSetting.webKey,cid:siteSetting.CID,lang:"",isTest:!!e.getQueryParameter("isCardTest")});document.addEventListener("DOMContentLoaded",function(){_q("#js-paypal-oneclick-button .w_radio").addEventListener("click",function(e){if(e.preventDefault(),window.paypalFlag=!0,window.ccFlag=!1,window.gapFlag=!1,_q("body").classList.remove("google-in-progress","apple-in-progress"),_q("body").classList.add("paypal-in-progress"),_q(".widget_modal_upsell"))_q(".widget_modal_upsell").style.display="block";else{if(window.preventCheckoutPaypal||window.preventCheckout)return;a()}})}),window.paypal={placeMainOrder:a}}else console.log("window.siteSetting object is not found");else console.log("modules is not found");function a(){i=window.warrantyParam?warrantyParam.appendParameter():0;var a=_q(".paypal-loading-overlay");if(void 0===window.widget.productlist||window.widget.productlist.isValidProductList()){a&&(a.style.display="block");var o=function(t){var i="",n=_qById("couponCode");i=n?n.value:""!==e.getQueryParameter("couponCode")?e.getQueryParameter("couponCode"):"";r=function(){if(!_q('input[name="product"]:checked'))return null;var e=_q('input[name="product"]:checked').dataset.product;return e?JSON.parse(e):null}();var a="number"==typeof window.shippingIndex&&-1!==window.shippingIndex?window.shippingIndex:0,o={couponCode:i,shippingMethodId:r.shippings.length>0?r.shippings[a].shippingMethodId:null,comment:"",useShippingAddressForBilling:!0,productId:r.productId,customer:{email:null,phoneNumber:null,firstName:null,lastName:null},payment:{paymentProcessorId:window.paymentProcessorId?window.paymentProcessorId:5,callBackParam:document.location.search},shippingAddress:null,billingAddress:null,funnelBoxId:_qById("txtProductWarranty")&&_qById("txtProductWarranty").checked?_qById("txtProductWarranty").value:0},c=_qById("txtMiniUpsellPID");c&&c.checked&&(o.miniUpsell={productId:Number(c.dataset.id),shippingMethodId:Number(_qById("txtMiniUpsellShippingID").dataset.id)});window.multipleMiniUpsells&&window.multipleMiniUpsells.length>0&&(o.multipleMiniUpsells=window.multipleMiniUpsells);window.maroPostSettingId&&maroPostSettingId.isSelected&&""!==maroPostSettingId.id.trim()&&(o.additionalInfo=[{key:"MaropostSettingsId",value:maroPostSettingId.id}]);return o}();n.Order.webkey=siteSetting.webKey,e.events.emit("beforeSubmitOrder"),n.Order.placeOrder(o,"paypal",function(n){if(e.localStorage().set("mainOrderLink",location.pathname),e.localStorage().set("userPaymentType","paypal"),n&&n.success)if(e.localStorage().set("paypal_isMainOrder","main"),function(n){var a=0,o=0,c=0,s=0,d=r.productPrices.DiscountedPrice.FormattedValue.replace(/[,|.]/g,""),l=r.productPrices.DiscountedPrice.Value.toString().replace(/\./,"");null!=r.shippings&&r.shippings.length>0&&(a=r.shippings[0].price);if(null!=_qById("txtProductWarranty")&&1==_qById("txtProductWarranty").checked){var u=t(r);o=u[0],c=u[1]}null!=_q("#txtMiniUpsellPID")&&1==_q("#txtMiniUpsellPID").checked&&_q(".warrantyDiscountPrice")&&(s=parseFloat(_q(".warrantyDiscountPrice").dataset.warrantydiscountprice));var p=d.replace(l,"######").replace(/\d/g,""),f={orderParams:location.search.substr(1),upsells:n.upsells,upsellIndex:i,countryCode:siteSetting.countryCode,orderNumber:n.orderNumber,cusEmail:""===_qById("customer_email").value?null:_qById("customer_email").value,cardId:n.cardId,paymentProcessorId:n.paymentProcessorId,addressId:n.customerResult.shippingAddressId,orderTotal:r.productPrices.DiscountedPrice.Value,lifetimePrice:o,lifetimeRate:c,orderTotalFull:Number((r.productPrices.DiscountedPrice.Value+a+o+s).toFixed(2)),savedTotal:r.productPrices.FullRetailPrice.Value-r.productPrices.DiscountedPrice.Value,quantity:r.quantity,feeShipping:a,fCurrency:p,orderedProducts:[{type:"main",sku:r.sku,pid:r.productId}],url:location.pathname};e.localStorage().set("orderInfo",JSON.stringify(f));var y={orderNumber:n.orderNumber,trackingNumber:n.trackingNumber,callBackUrl:n.callBackUrl};e.localStorage().set("loggingInfo",JSON.stringify(y))}(n),e.localStorage().set("webkey_to_check_paypal",siteSetting.webKey),window.emitAfterSuccessPaypal?e.events.emit("fireAfterSuccessPP",{result:n,orderData:o}):window.emitAfterSuccess&&e.events.emit("fireAfterSuccess",{result:n,orderData:o}),n.callBackUrl)document.location=n.callBackUrl;else if(n.paymentContinueResult&&""!==n.paymentContinueResult.actionUrl)document.location=n.paymentContinueResult.actionUrl;else if(n.upsells.length>0&&""!==n.upsells[0].upsellUrl){var a=n.upsells[0].upsellUrl.substr(n.upsells[0].upsellUrl.lastIndexOf("/")+1);location.href=a}else e.redirectPage(siteSetting.successUrl);else e.redirectPage(siteSetting.declineUrl)})}else console.log("invalid data")}}(window.utils),function(e){if(e){var t="frmCustomer",r=new EmanageCRMJS({webkey:siteSetting.webKey,cid:siteSetting.CID,lang:"",isTest:!!e.getQueryParameter("isCardTest")});window.widget=window.widget?window.widget:{},window.widget.customer={getCustomerInfo:function(){var e=_qById("customer_firstname")?_qById("customer_firstname").value:_qById("shipping_firstname").value,t=_qById("customer_lastname")?_qById("customer_lastname").value:_qById("shipping_lastname").value,r="";_qById("customer_cpf")&&(r=_qById("customer_cpf").value);var i={email:_qById("customer_email").value,phoneNumber:_qById("customer_phone").value,firstName:e,lastName:t};return""!==r&&(i.customerIdentificationValue=r,i.customerIdentificationTypeId=1,i.phoneNumber=_qById("customer_phone").value.replace(/\(|\)|\ |\-|\+/gi,"")),i}},e.customerForm={isValid:function(){var r=document.forms[t];if(r){var i=r.getElementsByTagName("input");if(i&&i.length>0){var n=!0,a=!1,c=void 0;try{for(var s,d=i[Symbol.iterator]();!(n=(s=d.next()).done);n=!0){var l=s.value;e.validateInput(l)}}catch(e){a=!0,c=e}finally{try{!n&&d.return&&d.return()}finally{if(a)throw c}}}}var u=_qById("customer_cpf");return u&&(o(u)?e.removeInputError(u):e.addInputError(u)),!_q("#"+t+" input.input-error")}},document.addEventListener("DOMContentLoaded",function(){i()})}else console.log("utils module is not found");function i(){var r=document.forms[t];if(r){var i=r.getElementsByTagName("input"),s=function(t){var r=i[t];if("customer_cpf"===r.id)return function(e){e.addEventListener("keypress",function(e){var t=e.which||e.keyCode,r="";if(8!==t)return t>47&&t<58||8==t||46==t||t>36&&t<41||t>15&&t<19||9==t||13==t?((r=this.value.toString().replace(/\-/g,"").replace(/\./g,"").substring(0,11)).length>=11&&e.preventDefault(),this.value=a(r),!0):void e.preventDefault()}),e.addEventListener("keyup",function(e){var t=this.value.toString().replace(/\-/g,"").replace(/\./g,"").substring(0,11);this.value=a(t)})}(r),function(t){t.addEventListener("blur",function(t){o(this)?e.removeInputError(this):e.addInputError(this)}),t.addEventListener("change",function(t){o(this)?e.removeInputError(this):e.addInputError(this)}),t.addEventListener("keyup",function(t){o(this)?e.removeInputError(this):e.addInputError(this)})}(r),"continue";null!=r.attributes.phonebr&&function(e){e.addEventListener("keypress",function(e){var t=e.which||e.keyCode,r="";if(t>47&&t<58||8==t||46==t||t>36&&t<41||t>15&&t<19||9==t||13==t)return(r=this.value.toString().replace(/\(|\)|\ |\-|\+/gi,"").substring(0,13)).length>=13&&e.preventDefault(),this.value=n(r),!0;e.preventDefault()}),e.addEventListener("keyup",function(e){var t=this.value.toString().replace(/\(|\)|\ |\-|\+/gi,"").substring(0,13);this.value=n(t)})}(r),r.addEventListener("blur",function(t){if(e.validateInput(this),"customer_firstname"===r.id){var i=window.localStorage.getItem("customer_firstname");if(i&&i===r.value.trim()||""===r.value.trim())return;e.saveUserInfoWithFingerprint(),localStorage.setItem("customer_firstname",r.value.trim())}if("customer_lastname"===r.id){var n=window.localStorage.getItem("customer_lastname");if(n&&n===r.value.trim()||""===r.value.trim())return;e.saveUserInfoWithFingerprint(),localStorage.setItem("customer_lastname",r.value.trim())}if("customer_email"===r.id){var a=window.localStorage.getItem("customer_email");if(a&&a===r.value.trim()||""===r.value.trim())return;e.saveUserInfoWithFingerprint(),c(),localStorage.setItem("customer_email",r.value.trim())}if("customer_phone"===r.id){var o=window.localStorage.getItem("customer_phone");if(o&&o===r.value.trim()||""===r.value.trim())return;e.saveUserInfoWithFingerprint(),c(),localStorage.setItem("customer_phone",r.value.trim())}}),r.addEventListener("change",function(t){e.validateInput(this)}),r.addEventListener("keyup",function(t){e.validateInput(this)})},d=!0,l=!1,u=void 0;try{for(var p,f=Object.keys(i)[Symbol.iterator]();!(d=(p=f.next()).done);d=!0)s(p.value)}catch(e){l=!0,u=e}finally{try{!d&&f.return&&f.return()}finally{if(l)throw u}}}}function n(e){var t="";return t=e=e.replace(/\(|\)|\ |\-|\+/gi,""),e.length>4&&e.length<=9&&(t=e.slice(0,-4)+"-"+e.slice(-4,13)),10===e.length&&(t="("+e.substring(0,2)+") "+e.substring(2,6)+"-"+e.substring(6,e.length)),11===e.length&&(t="("+e.substring(0,2)+") "+e.substring(2,7)+"-"+e.substring(7,e.length)),12===e.length&&(t="+"+e.substring(0,2)+" ("+e.substring(2,4)+") "+e.substring(4,8)+"-"+e.substring(8,e.length)),13===e.length&&(t="+"+e.substring(0,2)+" ("+e.substring(2,4)+") "+e.substring(4,9)+"-"+e.substring(9,e.length)),t}function a(e){for(var t="",r=[],i=0,n=(e=e.replace(/\./gi,"").replace(/\-/gi,"")).length;i<n;i+=3)r.length<4&&r.push(e.substring(i,i+3));for(var a=0,o=r.length;a<o;a++)t+=a<3?"."+r[a]:"-"+r[a];return t.substr(1)}function o(e){var t=e.value;if(""===t.trim())return!1;var r,i,n,a=!0;for(r=0,11===(t=t.replace(/\./gi,"").replace(/-/gi,"")).length&&"00000000000"!==t&&"11111111111"!==t&&"22222222222"!==t&&"33333333333"!==t&&"44444444444"!==t&&"55555555555"!==t&&"66666666666"!==t&&"77777777777"!==t&&"88888888888"!==t&&"99999999999"!==t||(a=!1),n=1;n<=9;n++)r+=parseInt(t.substring(n-1,n),10)*(11-n);for(10!==(i=10*r%11)&&11!==i||(i=0),i!==parseInt(t.substring(9,10),10)&&(a=!1),r=0,n=1;n<=10;n++)r+=parseInt(t.substring(n-1,n),10)*(12-n);return 10!==(i=10*r%11)&&11!==i||(i=0),i!==parseInt(t.substring(10,11),10)&&(a=!1),a}function c(){var e=_qById("customer_firstname")?_qById("customer_firstname").value:"",t=_qById("customer_lastname")?_qById("customer_lastname").value:"",i=_qById("customer_phone")?_qById("customer_phone").value:"",n=_qById("customer_email");if(n&&!n.classList.contains("input-error")&&""!==n.value.trim())if(window.siteSetting&&""!==window.siteSetting.campaignName){var a={email:n.value,firstName:e,lastName:t,phoneNumber:i,isFromEmailWidget:"false"};r.Order.submitEmailToLeadgen(a,s)}else console.log("siteSetting is null")}function s(t,r){null!==r?(e.events.emit("onSavedCustomerEmail",r),console.log(r)):console.log(t)}}(window.utils),function(e){if(e){var t,r,i=new EmanageCRMJS({webkey:siteSetting.webKey,cid:siteSetting.CID,lang:"",isTest:!!e.getQueryParameter("isCardTest")}),n="frmShipping";e.events.on("triggerAddressForm",a),t=e.localStorage().get("countryCode"),r=window.siteSetting.languageFolder?window.siteSetting.languageFolder:"",i.Campaign.getCountries(function(r){if(Array.isArray(r)){window.countries=Array.prototype.slice.call(r);var i=_qById("shipping_country"),n='<option value="">----</option>';window.countries.forEach(function(r){1===window.countries.length&&(t=r.countryCode,e.localStorage().set("countryCode",t)),n+='<option value="'+r.countryCode+'">'+r.countryNameLocalized+"</option>"}),i.innerHTML=n,t||(t=e.localStorage().get("countryCode")),t&&(_q('#shipping_country option[value="'+t+'"]')&&(i.value=t,s(t)),o(i.value)),i.addEventListener("change",c)}},r),window.widget=window.widget?window.widget:{},window.widget.shipping={getShippingAddress:function(){return{firstName:_qById("customer_firstname")?_qById("customer_firstname").value:_qById("shipping_firstname").value,lastName:_qById("customer_lastname")?_qById("customer_lastname").value:_qById("shipping_lastname").value,address1:_qById("shipping_address1").value,address2:null!=_qById("shipping_address2")?_qById("shipping_address2").value:"",city:_qById("shipping_city").value,countryCode:_qById("shipping_country").value,state:_qById("shipping_province").value,zipCode:_qById("shipping_postal").value,phoneNumber:_qById("customer_phone").value}},isValid:function(){var t=document.forms[n];if(t){var r=t.getElementsByTagName("input");if(r&&r.length>0){var i=!0,a=!1,o=void 0;try{for(var c,s=r[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var d=c.value;e.validateInput(d)}}catch(e){a=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(a)throw o}}}var l=t.getElementsByTagName("select");if(l&&l.length>0){var u=!0,p=!1,f=void 0;try{for(var y,m=l[Symbol.iterator]();!(u=(y=m.next()).done);u=!0){var v=y.value;e.validateInput(v)}}catch(e){p=!0,f=e}finally{try{!u&&m.return&&m.return()}finally{if(p)throw f}}}}var g=!_q("#"+n+" input.input-error"),w=!_q("#"+n+" select.input-error");return g&&w}},document.addEventListener("DOMContentLoaded",function(){!function(){var t=document.forms[n];if(t){var r=t.getElementsByTagName("input"),i=!0,a=!1,o=void 0;try{for(var c,s=r[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var d=c.value;d.addEventListener("blur",function(t){e.validateInput(this)}),d.addEventListener("change",function(t){e.validateInput(this)}),d.addEventListener("keyup",function(t){e.validateInput(this)})}}catch(e){a=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(a)throw o}}var l=t.getElementsByTagName("select"),u=!0,p=!1,f=void 0;try{for(var y,m=l[Symbol.iterator]();!(u=(y=m.next()).done);u=!0)y.value.addEventListener("change",function(t){e.validateInput(this)})}catch(e){p=!0,f=e}finally{try{!u&&m.return&&m.return()}finally{if(p)throw f}}}}(),function(){try{var e=_qAll(".shipping_address_field"),t=_qById("shipping_address1"),r=_qById("shipping_streetname"),i=_qById("shipping_streetnumber");if(!r&&!i)return;var n=!0,a=!1,o=void 0;try{for(var c,s=e[Symbol.iterator]();!(n=(c=s.next()).done);n=!0)c.value.addEventListener("keyup",function(){this.parentNode.parentNode.classList.contains("top-street-name")?t.value=r.value+" "+i.value:t.value=i.value+" "+r.value})}catch(e){a=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw o}}}catch(e){console.log("error: ",e)}}()})}else console.log("utils module is not found");function a(t){var r=_qById("shipping_country");r&&t&&(window.countries&&1===window.countries.length&&(t=window.countries[0].countryCode,e.localStorage().set("countryCode",t)),_q('#shipping_country option[value="'+t+'"]')&&(r.value=t,s(t)),o(r.value))}function o(e){if(window.countries&&e){var t=countries.filter(function(t){return t.countryCode===e})[0];if(t){var r=_qById("shipping_postal");t.postalCodeRegex?r.setAttribute("pattern",t.postalCodeRegex):r.removeAttribute("pattern")}}}function c(){_qById("shipping_province").setAttribute("disabled","true"),s(this.value),o(this.value)}function s(t){var r=_qById("shipping_province");e.removeInputError(r),r.options.length=0,r.classList.contains("no-required")||r.setAttribute("required","");var n='<option value="">----</option>';""===t||r.classList.contains("no-required")?(r.innerHTML=n,r.removeAttribute("disabled"),e.events.emit("shippingStatesUpdated")):i.Campaign.getCountryStates(t,function(t){if(window.states=Array.prototype.slice.call(t),t instanceof Error||void 0===t)r.removeAttribute("required");else{var i=!0,a=!1,o=void 0;try{for(var c,s=Object.keys(t)[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var d=c.value;n+='<option value="'+t[d].StateCode+'">'+t[d].StateName+"</option>"}}catch(e){a=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(a)throw o}}r.innerHTML=n,r.removeAttribute("disabled"),e.events.emit("shippingStatesUpdated")}})}}(window.utils),function(e,t){var r=_qAll('input[id$="_address1"]'),i=_qAll('input[id$="_streetnumber"]');if(0!==r.length||0!==i.length){var n=document.createElement("script");n.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCNfkLr7y20yUe-263iDsVwu1Q1LcmmiAY&libraries=places&callback=initAutocomplete",n.setAttribute("async",""),n.setAttribute("defer",""),document.querySelector("body").appendChild(n),e.initAutocomplete=function(){var e=function(e){var t=new google.maps.places.Autocomplete(e,{types:["geocode"]});t.addListener("place_changed",function(){a(e.closest("form"),t)})},t=!0,n=!1,o=void 0;try{for(var c,s=r[Symbol.iterator]();!(t=(c=s.next()).done);t=!0){e(c.value)}}catch(e){n=!0,o=e}finally{try{!t&&s.return&&s.return()}finally{if(n)throw o}}var d=function(e){var t=new google.maps.places.Autocomplete(e,{types:["geocode"]});t.addListener("place_changed",function(){a(e.closest("form"),t)})},l=!0,u=!1,p=void 0;try{for(var f,y=i[Symbol.iterator]();!(l=(f=y.next()).done);l=!0){d(f.value)}}catch(e){u=!0,p=e}finally{try{!l&&y.return&&y.return()}finally{if(u)throw p}}}}function a(e,r){var i=r.getPlace().address_components,n=o("street_number",i),a=o("route",i),c=o("locality",i),s=e.querySelector('input[id$="_address1"]');s&&(s.value=n+" "+a);var d=e.querySelector('input[id$="_streetnumber"]');d&&(d.value=n+" "+a);var l=e.querySelector('input[id$="_city"]');l&&(l.value=c);var u=e.querySelector('select[id$="_country"]');if(u){var p=o("country",i,"short_name");if(u.querySelector('option[value="'+p+'"]')){u.value=p;var f=new CustomEvent("change");u.dispatchEvent(f);var y=e.querySelector('select[id$="_province"]'),m=o("administrative_area_level_1",i,"short_name");y&&"shipping_province"===y.id&&t.events.on("shippingStatesUpdated",function(){y.querySelector('option[value="'+m+'"]')&&(y.value=m)}),y&&"billing_province"===y.id&&t.events.on("billingStatesUpdated",function(){y.querySelector('option[value="'+m+'"]')&&(y.value=m)})}else{u.value="";var v=new CustomEvent("change");u.dispatchEvent(v)}}var g=e.querySelector('input[id$="_postal"]');g&&(g.value=o("postal_code",i,"short_name"))}function o(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"long_name",i=t.filter(function(t){return t.types[0]===e});return i.length>0?i[0][r]:""}}(window,window.utils),function(e){function t(e,t){var r=[];r[0]="Unknown card type",r[1]="No card number provided",r[2]="Credit card number is in invalid format",r[3]="Credit card number is invalid",r[4]="Credit card number has an inappropriate number of digits",r[5]="Warning! This credit card number is associated with a scam attempt";var i=new Array;i[0]={name:"Visa",length:"13,16",prefixes:"4",checkdigit:!0},i[1]={name:"Master",length:"16",prefixes:"51,52,53,54,55",checkdigit:!0},i[2]={name:"DinersClub",length:"14,16",prefixes:"36,38,54,55",checkdigit:!0},i[3]={name:"CarteBlanche",length:"14",prefixes:"300,301,302,303,304,305",checkdigit:!0},i[4]={name:"AmEx",length:"15",prefixes:"34,37",checkdigit:!0},i[5]={name:"Discover",length:"16,17,18,19",prefixes:"6011,622,644,645,646,647,648,649,65",checkdigit:!0},i[6]={name:"JCB",length:"16",prefixes:"35",checkdigit:!0},i[7]={name:"enRoute",length:"15",prefixes:"2014,2149",checkdigit:!0},i[8]={name:"Solo",length:"16,18,19",prefixes:"6334,6767",checkdigit:!0},i[9]={name:"Switch",length:"16,18,19",prefixes:"4903,4905,4911,4936,564182,633110,6333,6759",checkdigit:!0},i[10]={name:"Maestro",length:"12,13,14,15,16,18,19",prefixes:"5018,5020,5038,6304,6759,6761,6762,6763",checkdigit:!0},i[11]={name:"VisaElectron",length:"16",prefixes:"4026,417500,4508,4844,4913,4917",checkdigit:!0},i[12]={name:"LaserCard",length:"16,17,18,19",prefixes:"6304,6706,6771,6709",checkdigit:!0};for(var n=-1,a=0;a<i.length;a++)if(t.toLowerCase()==i[a].name.toLowerCase()){n=a;break}if(-1==n)return 0,!1;if(0==e.length)return 1,!1;var o=e=e.replace(/\s/g,"");if(!/^[0-9]{13,19}$/.exec(o))return 2,!1;if(i[n].checkdigit){var c,s=0,d=1;for(a=o.length-1;a>=0;a--)(c=Number(o.charAt(a))*d)>9&&(s+=1,c-=10),s+=c,d=1==d?2:1;if(s%10!=0)return 3,!1}if("5490997771092064"==o)return 5,!1;var l=!1,u=!1,p=new Array,f=new Array;for(p=i[n].prefixes.split(","),a=0;a<p.length;a++){new RegExp("^"+p[a]).test(o)&&(u=!0)}if(!u)return 3,!1;for(f=i[n].length.split(","),d=0;d<f.length;d++)o.length==f[d]&&(l=!0);return!!l||(4,!1)}function r(e){return t(e,"Visa")?"Visa":t(e,"Master")?"Master":t(e,"AmEx")?"AmEx":t(e,"Discover")?"Discover":void 0}function i(t){if(null==t.dataset.cardnumber||""===t.dataset.cardnumber||t.dataset.cardnumber.formatString("0000-****-****-0000")!==t.value){var i=t.value.toString().replace(/\-/g,""),n=r(i);void 0===n?(t.value=i.formatString("0000-0000-0000-0000-000"),e.addInputError(t),t.setAttribute("data-cardnumber",""),t.setAttribute("data-cardtype","")):(e.removeInputError(t),t.setAttribute("data-cardnumber",i),t.setAttribute("data-cardtype",n),t.value=i.formatString("0000-0000-0000-0000-000"))}}function n(t){var r=t.value.toString().replace(/\-/g,"").replace(/\//g,"").substring(0,"00/00".length);t.value=r.formatString("00/00");var i=t.value.toString().split("/"),n=new Date,a=n.getFullYear().toString().substr(2),o=n.getMonth()+1;2!=i.length?e.addInputError(t):parseInt(i[0])<0||parseInt(i[0])>12?e.addInputError(t):parseInt(i[1])<parseInt(a)?e.addInputError(t):parseInt(i[1])===parseInt(a)&&parseInt(o)>parseInt(i[0])?e.addInputError(t):e.removeInputError(t)}function a(t){var r=t.value.toString().replace(/\-/g,"");r.length<3||r.length>4?e.addInputError(t):e.removeInputError(t)}function o(t){"AmEx"===r(t.value.toString().replace(/\-/g,""))?e.events.emit("bindInstallmentWithAmexCard","amex"):e.events.emit("bindInstallmentWithAmexCard","no_amex")}e.creditcardForm={isValid:function(){return i(_qById("creditcard_creditcardnumber")),n(_qById("creditcard_expirydate")),a(_qById("creditcard_cvv")),_qById("creditcard_nameoncard")&&e.validateInput(_qById("creditcard_nameoncard")),!_q("#frmCreditCard input.input-error")}},document.addEventListener("DOMContentLoaded",function(){var t,r;_qById("creditcard_creditcardnumber").addEventListener("keyup",function(){i(this),o(this)}),_qById("creditcard_creditcardnumber").addEventListener("blur",function(){i(this),o(this)}),_qById("creditcard_creditcardnumber").addEventListener("change",function(){i(this),o(this)}),e.maskNumber(_qById("creditcard_expirydate"),"00/00"),_qById("creditcard_expirydate").addEventListener("keyup",function(){n(this)}),_qById("creditcard_expirydate").addEventListener("blur",function(){n(this)}),_qById("creditcard_expirydate").addEventListener("change",function(){n(this)}),_qById("creditcard_cvv").addEventListener("keyup",function(){a(this)}),_qById("creditcard_cvv").addEventListener("blur",function(){a(this)}),_qById("creditcard_cvv").addEventListener("change",function(){a(this)}),_qById("creditcard_nameoncard")&&(_qById("creditcard_nameoncard").addEventListener("keyup",function(){e.validateInput(this)}),_qById("creditcard_nameoncard").addEventListener("blur",function(){e.validateInput(this)}),_qById("creditcard_nameoncard").addEventListener("change",function(){e.validateInput(this)})),(t=_q(".widget-creditcard-form .icon-question-circle"))&&t.addEventListener("click",function(e){e.preventDefault();var t=_q(".cvv_popup_overlay");t&&t.classList.add("open")}),(r=_q(".cvv_popup_overlay")).addEventListener("click",function(e){e.target.closest(".cvv_popup_content")||r.classList.remove("open")}),r.querySelector(".icon-close").addEventListener("click",function(e){r.classList.remove("open")})})}(window.utils),function(e){if(e){var t=new EmanageCRMJS({webkey:siteSetting.webKey,cid:siteSetting.CID,lang:"",isTest:!!e.getQueryParameter("isCardTest")}),r="frmBilling",i=!1;e.billingForm={isValid:function(){var t=document.forms[r];if(t){var i=t.getElementsByTagName("input");if(i&&i.length>0){var n=!0,a=!1,o=void 0;try{for(var c,s=Object.keys(i)[Symbol.iterator]();!(n=(c=s.next()).done);n=!0){var d=c.value;e.validateInput(i[d])}}catch(e){a=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw o}}}var l=t.getElementsByTagName("select");if(l&&l.length>0){var u=!0,p=!1,f=void 0;try{for(var y,m=l[Symbol.iterator]();!(u=(y=m.next()).done);u=!0){var v=y.value;e.validateInput(v)}}catch(e){p=!0,f=e}finally{try{!u&&m.return&&m.return()}finally{if(p)throw f}}}}var g=!_q("#"+r+" input.input-error"),w=!_q("#"+r+" select.input-error");return g&&w}},document.addEventListener("DOMContentLoaded",function(){!function(){var e=_qAll('input[name="radio_choose_billing"]'),t=!0,r=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(t=(a=o.next()).done);t=!0)a.value.addEventListener("click",n)}catch(e){r=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(r)throw i}}}(),function(){var t=document.forms[r];if(t){var i=t.getElementsByTagName("input"),n=!0,a=!1,o=void 0;try{for(var c,s=Object.keys(i)[Symbol.iterator]();!(n=(c=s.next()).done);n=!0){var d=i[c.value];d.addEventListener("blur",function(t){e.validateInput(this)}),d.addEventListener("change",function(t){e.validateInput(this)}),d.addEventListener("keyup",function(t){e.validateInput(this)})}}catch(e){a=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw o}}var l=t.getElementsByTagName("select"),u=!0,p=!1,f=void 0;try{for(var y,m=l[Symbol.iterator]();!(u=(y=m.next()).done);u=!0)y.value.addEventListener("change",function(t){e.validateInput(this)})}catch(e){p=!0,f=e}finally{try{!u&&m.return&&m.return()}finally{if(p)throw f}}}}(),function(){try{var e=_qAll(".billing_address_field"),t=_qById("billing_address1"),r=_qById("billing_streetname"),i=_qById("billing_streetnumber");if(!r&&!i)return;var n=!0,a=!1,o=void 0;try{for(var c,s=e[Symbol.iterator]();!(n=(c=s.next()).done);n=!0)c.value.addEventListener("keyup",function(){this.parentNode.parentNode.classList.contains("top-street-name")?t.value=r.value+" "+i.value:t.value=i.value+" "+r.value})}catch(e){a=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw o}}}catch(e){console.log("error: ",e)}}()})}else console.log("utils module is not found");function n(t){"radio_same_as_shipping"===this.id?_qById(r).classList.add("hidden"):"radio_different_shipping"===this.id&&(i||(!function(){if(!window.countries)return void console.log("billing form can not bind countries");var t=_qById("billing_country"),r='<option value="">----</option>';window.countries.forEach(function(e){r+='<option value="'+e.countryCode+'">'+e.countryNameLocalized+"</option>"}),t.innerHTML=r;var i=e.localStorage().get("countryCode");i&&_q('#billing_country option[value="'+i+'"]')&&(t.value=i);t.addEventListener("change",a)}(),o(window.states),i=!0),_qById(r).classList.remove("hidden"),!1,c(_qById("billing_country").value))}function a(){var e;_qById("billing_province").setAttribute("disabled","true"),e=this.value,t.Campaign.getCountryStates(e,function(e){o(e)}),c(this.value)}function o(t){var r=_qById("billing_province");e.removeInputError(r),r.options.length=0,r.classList.contains("no-required")||r.setAttribute("required","");var i='<option value="">----</option>';if(t instanceof Error||void 0===t)r.removeAttribute("required");else{var n=!0,a=!1,o=void 0;try{for(var c,s=Object.keys(t)[Symbol.iterator]();!(n=(c=s.next()).done);n=!0){var d=c.value;i+='<option value="'+t[d].StateCode+'">'+t[d].StateName+"</option>"}}catch(e){a=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw o}}}r.innerHTML=i,r.removeAttribute("disabled"),e.events.emit("billingStatesUpdated")}function c(e){if(window.countries&&e){var t=countries.filter(function(t){return t.countryCode===e})[0];if(t){var r=_qById("billing_postal");t.postalCodeRegex?r.setAttribute("pattern",t.postalCodeRegex):r.removeAttribute("pattern")}}}}(window.utils),function(e){if(e)if(siteSetting){var t=null,r=0,i=function(e){var t=document.querySelector("#txtProductWarranty").value,r=[.1,.2,.2,.2,.2,.3,.5,.15,.25,.35,.4,.45,.55,.6][parseInt(t)-1];return[Math.round(100*e.productPrices.DiscountedPrice.Value*r)/100,r]},n=new EmanageCRMJS({webkey:siteSetting.webKey,cid:siteSetting.CID,lang:"",isTest:!!e.getQueryParameter("isCardTest")});document.addEventListener("DOMContentLoaded",function(){l()}),window.cc={isValidInfos:o,placeMainOrder:s}}else console.log("window.siteSetting object is not found");else console.log("modules is not found");function a(){var r="",i=_qById("couponCode");r=i?i.value:""!==e.getQueryParameter("couponCode")?e.getQueryParameter("couponCode"):"",t=function(){if(!_q('input[name="product"]:checked'))return null;var e=_q('input[name="product"]:checked').dataset.product;return e?JSON.parse(e):null}();var n=!0;if(_q(".widget-billing-form")){var a=_q('input[name="radio_choose_billing"]:checked');a&&"radio_different_shipping"===a.id&&(n=!1)}var o=_qById("customer_firstname")?_qById("customer_firstname").value:_qById("shipping_firstname").value,c=_qById("customer_lastname")?_qById("customer_lastname").value:_qById("shipping_lastname").value,s=_qById("customer_phone")?_qById("customer_phone").value:"",d=null;n||(d={firstName:_qById("billing_firstname")?_qById("billing_firstname").value:o,lastName:_qById("billing_lastname")?_qById("billing_lastname").value:c,address1:_qById("billing_address1").value,address2:null!=_qById("billing_address2")?_qById("billing_address2").value:"",city:_qById("billing_city").value,countryCode:_qById("billing_country").value,state:_qById("billing_province").value,zipCode:_qById("billing_postal").value,phoneNumber:_qById("billing_phone")?_qById("billing_phone").value:s});var l=_qById("creditcard_expirydate"),u=_qById("cardExpirationMonth"),p=_qById("cardExpirationYear"),f="";l?f=l.value.replace("/","/20"):u&&p&&(f=u.value+"/"+p.value);var y="number"==typeof window.shippingIndex&&-1!==window.shippingIndex?window.shippingIndex:0,m={couponCode:r,shippingMethodId:t.shippings.length>0?t.shippings[y].shippingMethodId:null,comment:"",useShippingAddressForBilling:n,productId:t.productId,customer:window.widget.customer.getCustomerInfo(),payment:{name:o+" "+c,creditcard:_qById("creditcard_creditcardnumber").dataset.cardnumber,creditCardBrand:_qById("creditcard_creditcardnumber").dataset.cardtype,expiration:f,cvv:_qById("creditcard_cvv").value},shippingAddress:window.widget.shipping.getShippingAddress(),billingAddress:d,funnelBoxId:_qById("txtProductWarranty")&&_qById("txtProductWarranty").checked?_qById("txtProductWarranty").value:0},v=_qById("txtMiniUpsellPID");return v&&v.checked&&(m.miniUpsell={productId:Number(v.dataset.id),shippingMethodId:Number(_qById("txtMiniUpsellShippingID").dataset.id)}),window.multipleMiniUpsells&&window.multipleMiniUpsells.length>0&&(m.multipleMiniUpsells=window.multipleMiniUpsells),_qById("ddl_installpayment")&&(m.payment.Instalments=_qById("ddl_installpayment").value),window.maroPostSettingId&&maroPostSettingId.isSelected&&""!==maroPostSettingId.id.trim()&&(m.additionalInfo=[{key:"MaropostSettingsId",value:maroPostSettingId.id}]),m}function o(){var t=e.customerForm.isValid(),r=e.creditcardForm.isValid(),i=window.widget.shipping.isValid(),n=void 0===window.widget.productlist||window.widget.productlist.isValidProductList(),a=!0;if(_q(".widget-billing-form")){var o=_q('input[name="radio_choose_billing"]:checked');o&&"radio_different_shipping"===o.id&&(a=e.billingForm.isValid())}return!!(t&&i&&r&&a&&n)||(console.log("invalid data"),e.focusErrorInputField(),!1)}function c(){var t=_q(".custom-loading");if(t)t.classList.add("hidden"),_q("body").classList.remove("overflow");else{var r=_q(".preloading-wrapper"),i=e.getQueryParameter("preloading")?e.getQueryParameter("preloading"):1,n=document.getElementById("preloading"+i);n?(n.style.display="none",n.style.opacity="0"):r&&(r.style.display="none",r.style.opacity="0")}}function s(o){r=window.warrantyParam?warrantyParam.appendParameter():0;var s,l,u=_q(".custom-loading"),p=0;u?(p=100,u.classList.remove("hidden"),_q("body").classList.add("overflow"),u.classList.contains("black-screen")&&(s=_qById("js-basic-cta-button"),(l=_q(".custom-loading .wrap-loading")).style.left=s.getBoundingClientRect().left+"px",l.style.top=s.getBoundingClientRect().top+"px")):e.showAjaxLoading();var f=a();n.Order.webkey=siteSetting.webKey,e.events.emit("beforeSubmitOrder"),n.Order.placeOrder(f,o,function(n){e.localStorage().set("mainOrderLink",location.pathname),n&&n.success?(n.token&&window.sessionStorage.setItem("orderToken",n.token),e.localStorage().set("user_firstname",f.customer.firstName),e.localStorage().set("user_lastname",f.customer.lastName),e.localStorage().set("customerId",n.customerResult.customerId),function(n){var a=0,o=0,c=0,s=0,d=t.productPrices.DiscountedPrice.FormattedValue.replace(/[,|.]/g,""),l=t.productPrices.DiscountedPrice.Value.toString().replace(/\./,"");if(null!=t.shippings&&t.shippings.length>0&&(a=t.shippings[0].price),null!=_qById("txtProductWarranty")&&!0===_qById("txtProductWarranty").checked){var u=i(t);o=u[0],c=u[1]}null!=_q("#txtMiniUpsellPID")&&!0===_q("#txtMiniUpsellPID").checked&&_q(".warrantyDiscountPrice")&&(s=parseFloat(_q(".warrantyDiscountPrice").dataset.warrantydiscountprice));var p=d.replace(l,"######").replace(/\d/g,""),f={upsells:n.upsells,upsellIndex:r,countryCode:siteSetting.countryCode,orderNumber:n.orderNumber,cusEmail:_qById("customer_email").value,cusPhone:_qById("customer_phone")?_qById("customer_phone").value:"",cusFirstName:_qById("customer_firstname")?_qById("customer_firstname").value:"",cusLastName:_qById("customer_lastname")?_qById("customer_lastname").value:"",cusCity:_qById("shipping_city")?_qById("shipping_city").value:"",cusState:_qById("shipping_province")?_qById("shipping_province").value:"",cusCountry:_qById("shipping_country")?_qById("shipping_country").value:"",cusZip:_qById("shipping_postal")?_qById("shipping_postal").value:"",cardId:n.cardId,cardType:_qById("creditcard_creditcardnumber")?_qById("creditcard_creditcardnumber").dataset.cardtype:"",paymentProcessorId:n.paymentProcessorId,addressId:n.customerResult.shippingAddressId,orderTotal:t.productPrices.DiscountedPrice.Value,lifetimePrice:o,lifetimeRate:c,orderTotalFull:t.productPrices.DiscountedPrice.Value+a+o+s,savedTotal:t.productPrices.FullRetailPrice.Value-t.productPrices.DiscountedPrice.Value,quantity:t.quantity,feeShipping:a,fCurrency:p,orderedProducts:[{type:"main",sku:t.sku,pid:t.productId,name:_qById("productname_"+t.productId)?_qById("productname_"+t.productId).value:""}],installmentValue:_qById("ddl_installpayment")?_qById("ddl_installpayment").value:"",installmentText:window.widget&&window.widget.installmentpayment?window.widget.installmentpayment.optionText:"",url:location.pathname,useCreditCard:!!n.useCreditCard&&n.useCreditCard};e.localStorage().set("orderInfo",JSON.stringify(f))}(n),u&&u.classList.add("successed"),setTimeout(function(){if(n.callBackUrl)document.location=n.callBackUrl;else if(n.paymentContinueResult&&""!==n.paymentContinueResult.actionUrl)document.location=n.paymentContinueResult.actionUrl;else if(n.upsells.length>0&&""!==n.upsells[0].upsellUrl){var t=n.upsells[r].upsellUrl.substr(n.upsells[r].upsellUrl.lastIndexOf("/")+1);if(window.emitAfterSuccessCredit){if(e.events.emit("fireAfterSuccessCC",{result:n,redirectUrl:t,orderData:f}),window.stopRedirect)return}else window.emitAfterSuccess&&e.events.emit("fireAfterSuccess",{result:n,redirectUrl:t,orderData:f});if(u)var i=_q("body"),a=0,o=1,c=setInterval(function(){350===a?(clearInterval(c),window.location.href=t):(a+=10,i.style.right=a+"px",i.style.opacity=o,o-=.05)},10);else window.location.href=t}else e.redirectPage(siteSetting.successUrl)},p)):location.href.indexOf("en/order-ac-dcl1.html")>0&&_q(".js-cc-decline-message")?function(){c();var e=_q(".js-cc-decline-message");e&&(e.classList.remove("hidden"),d())}():location.href.indexOf("en/order-ac-dcl2.html")>0&&_qById("js-cc-decline-popup")?function(){c();var e=_qById("js-cc-decline-popup");if(e){var t=e.querySelector(".btn_ok");t&&t.addEventListener("click",function(e){e.preventDefault(),window.closePopup("js-cc-decline-popup"),d()});var r=e.querySelector(".icon-close");r&&r.addEventListener("click",function(e){e.preventDefault(),window.closePopup("js-cc-decline-popup"),d()}),window.showPopup("js-cc-decline-popup")}}():(e.localStorage().set("userPaymentType","creditcard"),e.redirectPage(siteSetting.declineUrl))})}function d(){var e=_qById("creditcard_creditcardnumber");e&&(e.classList.remove("input-valid"),e.classList.add("input-error"),e.focus(),window.navigator.userAgent.indexOf("MSIE ")>0?ccDeclineMessage.scrollIntoView():ccDeclineMessage.scrollIntoView({behavior:"smooth"}));var t=_qById("creditcard_cvv");t&&(t.classList.remove("input-valid"),t.classList.add("input-error"))}function l(){var t=_qById("js-basic-cta-button");t&&t.addEventListener("click",function(t){if(t.preventDefault(),window.ccFlag=!0,window.paypalFlag=!1,window.gapFlag=!1,_q("body").classList.remove("google-in-progress","apple-in-progress"),_q(".widget_modal_upsell")){if(!o())return;_q(".widget_modal_upsell").style.display="block"}else{if(window.preventCheckoutCredit||window.preventCheckout)return;if(!o())return;s("creditcard"),r={email:_qById("customer_email")?_qById("customer_email").value:"",fName:_qById("customer_firstname")?_qById("customer_firstname").value:"",lName:_qById("customer_lastname")?_qById("customer_lastname").value:"",phone:_qById("customer_phone")?_qById("customer_phone").value:"",address1:_qById("shipping_address1")?_qById("shipping_address1").value:"",address2:_qById("shipping_address2")?_qById("shipping_address2").value:"",city:_qById("shipping_city")?_qById("shipping_city").value:"",country:_qById("shipping_country")?_qById("shipping_country").value:"",state:_qById("shipping_province")?_qById("shipping_province").value:"",postcode:_qById("shipping_postal")?_qById("shipping_postal").value:""},e.localStorage().set("customerInfo",JSON.stringify(r))}var r})}}(window.utils),function(e){if(e){if(window.widgetFomo&&1==e.getQueryParameter("fomo")){var t=[];document.addEventListener("DOMContentLoaded",function(){r()})}}else console.log("utils module is not found");function r(){var e=window.widgetFomo.dataUrl;fetch(e).then(function(e){if(e.ok)return e.json()}).then(function(e){t=e.data,function(){var e=document.createElement("div");e.id="w_fomo_wrapper",e.classList.add("w_fomo_wrapper");var r=document.createElement("div");r.classList.add("w_fomo_content"),r.innerHTML='\n            <div class="w_thumb"><img src="'+window.widgetFomo.imageUrl+'" alt="fomo product"></div>\n            <div class="w_content"></div>        \n        ',e.appendChild(r),_q("body").appendChild(e);var n=t.length,a=void 0,o=_q(".w_fomo_content .w_content");setTimeout(function(){a=Math.floor(Math.random()*n+1);var r=t[a];i(e,o,r)},2e3),setInterval(function(){a=Math.floor(Math.random()*n+1);var r=t[a];i(e,o,r)},8e3)}()}).catch(function(e){console.log(e)})}function i(e,t,r){var i="";if(window.innerWidth<400&&(i="<br>"),t.innerHTML=r.name+i+r.in+r.place+", "+r.country+" <br/>"+r.buy+" <strong> "+r.product+" </strong>",window.js_translate.fomoExtraText&&window.js_translate.fomoExtraText.length>0){var n=document.createElement("span");n.innerHTML=window.js_translate.fomoExtraText,n.classList.add("extra_text"),t.appendChild(n)}e.classList.add("notify"),setTimeout(function(){e.classList.remove("notify")},3e3)}}(window.utils),function(e){e?(_q("body").classList.remove("hidden"),window.widgetLoader&&1==e.getQueryParameter("loader")&&function(){var t=window.widgetLoader.steps,r=_qById("widget-loader");r.style.display="block";var i=0,n=_q(".progress-bar"),a=_q(".loader-wrapper .text"),o=t[i];a.innerHTML=o.text,n.style.width=o.percent+"%";var c=setInterval(function(){o=t[i+=1],3===i&&(clearInterval(c),setTimeout(function(){n.classList.add("finish")},1e3),setTimeout(function(){r.style.opacity="0",e.events.emit("bindDoneLoader"),setTimeout(function(){r.style.display="none"},1e3)},1500)),a.innerHTML=o.text,n.style.width=o.percent+"%"},2e3)}()):console.log("utils module is not found")}(window.utils);var orderPage=function(){var e=function(){var e=void 0;_q(".w_creditcard .w_radio label").addEventListener("click",function(){e&&clearTimeout(e),e=setTimeout(function(){var e,t,r,i=(e=".widget-customer-form",(t=document.querySelector(e)).getBoundingClientRect(),r=document.body.getBoundingClientRect(),t.getBoundingClientRect().top-r.top-10);window.scrollTo(0,i),_q(".widget-customer-form input").focus()},10)})};return{initial:function(){e()}}}();window.addEventListener("DOMContentLoaded",function(){orderPage.initial()}),function(e){if(e)if(siteSetting){var t=window.localStorage.getItem("referrerUrl"),r=window.localStorage.getItem("ctrWowSurvey__id"),i=window.localStorage.getItem("campproducts"),n=window.localStorage.getItem("customerInfo");window.localStorage.clear(),t&&window.localStorage.setItem("referrerUrl",t),r&&window.localStorage.setItem("ctrWowSurvey__id",r),i&&window.localStorage.setItem("campproducts",i),n&&(window.localStorage.setItem("customerInfo",n),document.body.getAttribute("class").indexOf("order-miniac-v1-info")>0&&function(){var e=JSON.parse(n),t=_qById("customer_email");t&&(t.value=e.email,t.parentElement.classList.add("focused"));var r=_qById("customer_firstname");r&&(r.value=e.fName,r.parentElement.classList.add("focused"));var i=_qById("customer_lastname");i&&(i.value=e.lName,i.parentElement.classList.add("focused"));var a=_qById("customer_phone");a&&(a.value=e.phone,a.parentElement.classList.add("focused"));var o=_qById("shipping_address1");o&&(o.value=e.address1,o.parentElement.classList.add("focused"));var c=_qById("shipping_address2");c&&(c.value=e.address2,c.parentElement.classList.add("focused"));var s=_qById("shipping_city");s&&(s.value=e.city,s.parentElement.classList.add("focused"));var d=_qById("shipping_country");if(d)var l=setInterval(function(){var t=!0,r=!1,i=void 0;try{for(var n,a=d.options[Symbol.iterator]();!(t=(n=a.next()).done);t=!0){var o=n.value;if(o.value===e.country){d.value=e.country;var c=document.createEvent("Event");c.initEvent("change",!0,!0),d.dispatchEvent(c),clearInterval(l)}}}catch(e){r=!0,i=e}finally{try{!t&&a.return&&a.return()}finally{if(r)throw i}}},500);var u=_qById("shipping_province");if(u){var p=setInterval(function(){var t=!0,r=!1,i=void 0;try{for(var n,a=u.options[Symbol.iterator]();!(t=(n=a.next()).done);t=!0){var o=n.value;o.value===e.state&&(u.value=e.state,clearInterval(p))}}catch(e){r=!0,i=e}finally{try{!t&&a.return&&a.return()}finally{if(r)throw i}}},500);u.value=e.state}var f=_qById("shipping_postal");f&&(f.value=e.postcode,f.parentElement.classList.add("focused"))}()),function(){var e=_q(".js-sale-off-heading");if(e){var t='<span class="js-img-loading">\n                                        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=" width="20" height="10" data-src="//d16hdrba6dusey.cloudfront.net/sitecommon/images/loading-price-v1.gif">\n                                      </span>';e.innerHTML=e.innerHTML.replace("{price}",'<span class="textDiscountPrice">'+t+"</span>"),e.innerHTML=e.innerHTML.replace("{fullprice}",'<span class="textFullPrice">'+t+"</span>")}if(window.widget&&window.widget.installmentpayment){var r=window.widget.installmentpayment.defaultMonths[window.widget.installmentpayment.defaultMonths.length-1],i=_q(".top-promo");i&&(i.innerHTML=i.innerHTML.replace("{installmentMonth}",r)),e&&(e.innerHTML=e.innerHTML.replace("{installmentMonth}",r));var n=_q(".w_creditcard .w_caption");n&&(n.innerHTML=n.innerHTML.replace("{installmentMonth}",r))}}(),e.events.on("bindOrderPage",c),o(),function(){var e=_qAll(".productRadioListItem input"),t=!0,r=!1,i=void 0;try{for(var n,a=e[Symbol.iterator]();!(t=(n=a.next()).done);t=!0)n.value.addEventListener("click",function(){o()})}catch(e){r=!0,i=e}finally{try{!t&&a.return&&a.return()}finally{if(r)throw i}}}(),function(){if(_q(".coupon-popup-new")){var e=_q(".coupon-popup-new .w_promo_text");e&&(e.innerHTML=e.innerHTML.replace(/{couponPrice}/g,'<span class="js-img-loading">\n                                <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=" width="20" height="10" data-src="//d16hdrba6dusey.cloudfront.net/sitecommon/images/loading-price-v1.gif">\n                            </span>'))}}(),function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=!0,n=!1,a=void 0;try{for(var o,c=t[Symbol.iterator]();!(i=(o=c.next()).done);i=!0){var s=o.value,d=document.location.href,l=d.split("?");if(l.length>=2){for(var u=l.shift(),p=l.join("?"),f=encodeURIComponent(s)+"=",y=p.split(/[&;]/g),m=y.length;m-- >0;)-1!==y[m].lastIndexOf(f,0)&&y.splice(m,1);d=u+"?"+y.join("&"),window.history.pushState("",document.title,d)}}}catch(e){n=!0,a=e}finally{try{!i&&c.return&&c.return()}finally{if(n)throw a}}}("10pop","15pop","clickid","banner","shippro");var a=e.CommonOrder;(new(function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,a),t}())).init()}else console.log("window.siteSetting object is not found");else console.log("modules is not found");function o(){if(_q('input[name="product"]:checked')){var t=_q('input[name="product"]:checked');_getClosest(t,".productRadioListItem").classList.contains("special_offer")?e.localStorage().set("isSpecialOffer","true"):e.localStorage().set("isSpecialOffer","false")}}function c(e){if(e){var t=_qAll(".textDiscountPrice"),r=!0,i=!1,n=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){a.value.innerHTML=e.discountPrice}}catch(e){i=!0,n=e}finally{try{!r&&o.return&&o.return()}finally{if(i)throw n}}var c=_qAll(".textFullPrice"),s=!0,d=!1,l=void 0;try{for(var u,p=c[Symbol.iterator]();!(s=(u=p.next()).done);s=!0){u.value.innerHTML=e.fullPrice}}catch(e){d=!0,l=e}finally{try{!s&&p.return&&p.return()}finally{if(d)throw l}}e.currencyCode&&""!=e.currencyCode&&"usd"===e.currencyCode.toLowerCase()&&-1!==(!!e.fCurrency&&e.fCurrency.indexOf("$"))||_q(".js-currency-usd")&&(_q(".js-currency-usd").style.display="none")}}}(window.utils),function(e){if(e){var t=!1,r=function(){var r=function(){var e=[],t=_qAll(".productRadioListItem"),r=!0,i=!1,n=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var c=a.value;"none"!==window.getComputedStyle(c).display&&e.push(c)}}catch(e){i=!0,n=e}finally{try{!r&&o.return&&o.return()}finally{if(i)throw n}}return e}(),i=e.getQueryParameter("qt"),n=Number(i);if(i&&n>0&&n<=r.length){n-=1,"1"===e.getQueryParameter("et")&&(n=0);var a=_qAll(".productRadioListItem"),o=!0,c=!1,s=void 0;try{for(var d,l=a[Symbol.iterator]();!(o=(d=l.next()).done);o=!0){d.value.classList.remove("default","checked-item")}}catch(e){c=!0,s=e}finally{try{!o&&l.return&&l.return()}finally{if(c)throw s}}r[n].classList.add("default","checked-item"),t||(r[n].querySelector("input").click(),"undefined"!=typeof exitPopup&&exitPopup.handleEvents(),_q("body").classList.add("wasteClick"))}},i=function(){!function(){var e=_qAll(".js-list-group li");if(e.length){var i=!0,n=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(i=(o=c.next()).done);i=!0)o.value.addEventListener("click",function(){t=!0,r()},!1)}catch(e){n=!0,a=e}finally{try{!i&&c.return&&c.return()}finally{if(n)throw a}}}}(),function(){var e=_qAll(".list-adapters input");if(e.length){var i=!0,n=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(i=(o=c.next()).done);i=!0)o.value.addEventListener("change",function(){t=!0,r()},!1)}catch(e){n=!0,a=e}finally{try{!i&&c.return&&c.return()}finally{if(n)throw a}}}}()};e.events.on("bindOrderPage",r),window.addEventListener("DOMContentLoaded",function(){i()})}else console.log("modules is not found")}(window.utils),function(e){if(e){window.taxArray=[];var t=!0,r={};window.discountedSelectedPrice=void 0;var i='<span class="js-img-loading">\n                            <img src="//d16hdrba6dusey.cloudfront.net/sitecommon/images/loading-price-v1.gif" width="20" height="10" class="no-lazy"  style="width: 20px;">\n                        </span>';window.implementTax=function(e){o(e),_qById("js-basic-cta-button")&&(_qById("js-basic-cta-button").style.pointerEvents="auto"),_qById("js-paypal-oneclick-button")&&(_qById("js-paypal-oneclick-button").style.pointerEvents="auto"),window.localStorage.setItem("customerAddress",JSON.stringify(r)),window.extrapop&&"function"==typeof window.extrapop.renderPrice&&window.extrapop.renderPrice()},e.events.on("bindOrderPage",d),e.events.on("onActivePopup",function(){t?d():l()}),e.events.on("afterApplyCoupon",function(e){window.discountedSelectedPrice=e.totalDiscountedPrice,t?d():l()}),document.addEventListener("DOMContentLoaded",function(){!function(){var e=_qAll("#shipping_address1, #shipping_city, #shipping_country, #shipping_province, #shipping_postal"),r=!0,i=!1,n=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0)a.value.addEventListener("change",function(){l()})}catch(e){i=!0,n=e}finally{try{!r&&o.return&&o.return()}finally{if(i)throw n}}var c=_qAll('input[name="product"], #txtProductWarranty'),s=!0,u=!1,p=void 0;try{for(var f,y=c[Symbol.iterator]();!(s=(f=y.next()).done);s=!0)f.value.addEventListener("change",function(){window.discountedSelectedPrice?(window.discountedSelectedPrice=void 0,t?d():l()):t?d(!0):l(!0)})}catch(e){u=!0,p=e}finally{try{!s&&y.return&&y.return()}finally{if(u)throw p}}}()})}else console.log("utils module is not found");function n(){if(_qById("js-basic-cta-button")&&(_qById("js-basic-cta-button").style.pointerEvents="none"),_qById("js-paypal-oneclick-button")&&(_qById("js-paypal-oneclick-button").style.pointerEvents="none"),_q(".statistical")||_q(".custom-statistical")||_q(".cart-info")){var e=_q(".td-taxes-fees");if(e)e.innerHTML=""+i;else{var t='<tr class="tax-row">\n                    <td class="td-taxes-text">'+(js_translate.taxAndFee||"Estimated Tax:")+'</td>\n                    <td class="td-taxes-fees text-right">'+i+"</td>\n                </tr>";_q(".statistical table tbody")&&_q(".statistical table tbody").insertAdjacentHTML("beforeend",t),_q(".cart-info table tbody")&&_q(".cart-info table tbody").insertAdjacentHTML("beforeend",t),e=_q(".td-taxes-fees")}e.parentElement.removeAttribute("style")}Array.prototype.slice.call(_qAll(".grand-total, .total_price, .total-price, .tax_price, .td-taxes-fees")).forEach(function(e){e.innerHTML=""+i})}function a(){if(!_q('input[name="product"]:checked'))return null;var e=_q('input[name="product"]:checked').dataset.product;return e?JSON.parse(e):null}function o(t){if(0!==window.taxArray.length){var r=window.taxArray.find(function(e){return e.productId===t.productId});window.taxPercent=r.taxRate/100;var i=t.shippings[window.shippingIndex||0].price,n=t.shippings[0].formattedPrice,o=function(){var e=0;if(_qById("txtProductWarranty")&&_qById("txtProductWarranty").checked){var t=a(),r=_qById("txtProductWarranty").value,i=[.1,.2,.2,.2,.2,.3,.5,.15,.25,.35,.4,.45,.55,.6][parseInt(r)-1],n=(Math.round(100*t.productPrices.DiscountedPrice.Value*i)/100).toFixed(2);e=Number(n)}return e}(),c=t.productPrices.DiscountedPrice.Value*window.taxPercent+o*window.taxPercent+i*window.taxPercent,s=t.productPrices.DiscountedPrice.Value+o+i+c;Array.prototype.slice.call(_qAll(".tax_price, .td-taxes-fees")).forEach(function(t){t.textContent=e.formatPrice(c.toFixed(2),window.fCurrency,n),t.parentElement.removeAttribute("style")}),Array.prototype.slice.call(_qAll(".grand-total, .total_price, .total-price")).forEach(function(t){t.textContent=e.formatPrice(s.toFixed(2),window.fCurrency,n)}),e.events.emit("renderedTaxAndTotal",{totalTaxAmount:c,grandTotal:s,totalTaxAmountFormat:e.formatPrice(c.toFixed(2),window.fCurrency,n),grandTotalFormat:e.formatPrice(s.toFixed(2),window.fCurrency,n)})}}function c(e,t){return e.map(function(e){var r=t.find(function(t){return e.productId===t.productId});return r?_extends({},e,{discountedPrice:r.discountedPrice}):e})}function s(t,r){var i=new EmanageCRMJS({webkey:siteSetting.webKey,cid:siteSetting.CID,lang:"",isTest:!!e.getQueryParameter("isCardTest")}).Order.baseAPIEndpoint+"/orders/CreateEstimate/"+siteSetting.webKey,a={method:"POST",headers:{X_CID:siteSetting.CID},data:t};n(),e.events.emit("beforeBindTax"),e.callAjax(i,a).then(function(i){var n=[];n=c(n=i&&i.items&&i.items.length>0?i.items:t.items.map(function(e){return e.taxAmount=0,e.taxRate=0,e}),t.items),e.events.emit("bindTax"),window.taxArray=n,window.implementTax(r)}).catch(function(){var i=t.items.map(function(e){return e.taxAmount=0,e.taxRate=0,e});i=c(i,t.items),e.events.emit("bindTax"),window.taxArray=i,window.implementTax(r)})}function d(t){if(window.localStorage.setItem("bindTax",!0),e.checkCamp(siteSetting.webKey)){var i=localStorage.getItem("campproducts");if(i){var n=(i=JSON.parse(i)).camps.find(function(e){return e[siteSetting.webKey]});if(n){n=n[siteSetting.webKey],r={line1:"",city:n.location.city,region:n.location.regionCode,country:n.location.countryCode,postalCode:n.location.zipCode};var o={isTest:!!e.getQueryParameter("isCardTest"),items:[],customerAddress:r},c=a();if(t&&window.taxArray.length>0)return void window.implementTax(c);o.items=window.PRICES.map(function(e){var t=e.productPrices.DiscountedPrice.Value;c.productId===e.productId&&window.discountedSelectedPrice&&(t=window.discountedSelectedPrice);var r=window.isDoubleQuantity?e.quantity/2:e.quantity;return{productId:e.productId,sku:e.sku,quantity:r,unitPrice:e.productPrices.UnitDiscountRate.Value,discountedPrice:t,totalPrice:t,description:e.productName}}),s(o,c)}}}}function l(e){var i=!0,n=_qAll("#shipping_address1, #shipping_city, #shipping_country, #shipping_province, #shipping_postal"),o=!0,c=!1,d=void 0;try{for(var l,u=n[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var p=l.value;if((""===p.value.trim()||"----"===p.value.trim())&&p.hasAttribute("required")){i=!1;break}}}catch(e){c=!0,d=e}finally{try{!o&&u.return&&u.return()}finally{if(c)throw d}}var f=a(),y={items:[],customerAddress:r};if(i){if(r={line1:_qById("shipping_address1")?_qById("shipping_address1").value:"",city:_qById("shipping_city")?_qById("shipping_city").value:"",region:_qById("shipping_province")?_qById("shipping_province").value:"",country:_qById("shipping_country")?_qById("shipping_country").value:"",postalCode:_qById("shipping_postal")?_qById("shipping_postal").value:""},y.customerAddress=r,e&&window.taxArray.length>0)return void window.implementTax(f);y.items=window.PRICES.map(function(e){var t=e.productPrices.DiscountedPrice.Value;f.productId===e.productId&&window.discountedSelectedPrice&&(t=window.discountedSelectedPrice);var r=window.isDoubleQuantity?e.quantity/2:e.quantity;return{productId:e.productId,sku:e.sku,quantity:r,unitPrice:e.productPrices.UnitDiscountRate.Value,discountedPrice:t,totalPrice:t,description:e.productName}}),t=!1,window.taxArray=[],s(y,f)}else if(e&&window.taxArray.length>0)return void window.implementTax(f)}}(window.utils),function(){var e=document.querySelector("body");function t(){Array.prototype.slice.call(document.querySelectorAll(".popup_widget--opened")).forEach(function(e){e.classList.remove("popup_widget--opened")}),e.classList.remove("show-popup_widget"),e.style.removeProperty("padding-right")}window.showPopup=function(r,i){if(i&&t(),r){document.getElementById(r).classList.add("popup_widget--opened");var n=function(){var e=document.createElement("div");e.className="scrollbar-measure",document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t}();e.classList.contains("show-popup_widget")||(e.classList.add("show-popup_widget"),e.style.paddingRight=n+"px")}},window.closeAllPopup=t,window.closePopup=function(t){document.getElementById(t)&&(document.getElementById(t).classList.remove("popup_widget--opened"),0===document.querySelectorAll(".popup_widget--opened").length&&(e.classList.remove("show-popup_widget"),e.style.removeProperty("padding-right")))}}(),function(e){function t(){!function(){var e=_qAll(".footer a, .address-ft a, footer a, .footer-address a, .custom-footer .pop"),t=!0,r=!1,i=void 0;try{for(var n,a=e[Symbol.iterator]();!(t=(n=a.next()).done);t=!0)n.value.addEventListener("click",function(e){if(!e.currentTarget.parentElement.classList.contains("DMCA_Logo")&&!e.currentTarget.classList.contains("no-popup")&&-1===e.currentTarget.href.indexOf("facebook.com")&&-1===e.currentTarget.href.indexOf("twitter.com")&&-1===e.currentTarget.href.indexOf("instagram.com")&&-1===e.currentTarget.href.indexOf("pinterest.com")){e.preventDefault();var t="<iframe src="+e.currentTarget.getAttribute("href")+"></iframe>";_q("#popupIframe .popup_widget_main").innerHTML=t,_q("#popupIframe .popup_widget_content").classList.add("loading"),window.showPopup("popupIframe",!0),setTimeout(function(){_q("#popupIframe .popup_widget_content").classList.remove("loading")},800)}})}catch(e){r=!0,i=e}finally{try{!t&&a.return&&a.return()}finally{if(r)throw i}}}()}window.utils&&window.addEventListener("load",function(){t()})}();